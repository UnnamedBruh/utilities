<a href="/utilities/">Go Back</a><br>
<br>
Page: <input type="number" min="0" max="8388607" value="0" id="p"><br>
Use .fromCharCode instead of .fromCodePoint: <input type="checkbox" id="u">
<p>Press the left and right arrow keys to navigate. Press J and L keys to navigate further.</p>
<table border="1"><thead><tr><td>Integer</td><td>Hex</td><td>Unicode</td><td>Click To Copy</td></tr></thead><tbody></tbody></table>
<script>
	const x = new Array(256);
	const tab = document.querySelector("tbody");
	const ids = new Array(256);
	const characters = new Array(256);
	for (let i = 0; i < 256; i++) {
		const b = document.createElement("tr");
		x[i] = [document.createElement("td"), document.createElement("td"), document.createElement("td"), document.createElement("td")];
		for (const z of x[i]) {
			b.appendChild(z);
		}
		tab.appendChild(b);
		x[i][3].addEventListener("click", function() {
			navigator.clipboard.writeText(characters[i]);
			if (ids[i]) clearTimeout(ids[i]);
			ids[i] = setTimeout(function() {
				x[i][3].textContent = "";
				ids[i] = 0;
				x[i][3].style = "";
			}, 1000);
			x[i][3].textContent = "Copied!";
			x[i][3].style = "background-color: black; color: white";
		});
		x[i][3].addEventListener("mouseenter", function() {
			x[i][3].style = "background-color: green; color: white";
			x[i][3].textContent = "Copy Character";
		});
		x[i][3].addEventListener("mouseleave", function() {
			x[i][3].style = "";
			x[i][3].textContent = "";
			if (ids[i]) clearTimeout(ids[i]);
		});
	}

	const cleanMap = {
		"\b": "(non-backspace)",
		"\t": "(tab)",
		"\n": "(newline)",
		"\v": "(vertical tab)",
		"\f": "(form feed/page break)",
		"\r": "(carriage return)",
		"\v": "(vertical tab)",
		" ": "(space)",
		"\x7F": "(delete)",
		"\xA0": "(nobreak space)",
		"\xAD": "(soft hyphen)",
		"\u034F": "(combining graph. join.)",
		"\u061C": "(arabic mark)",
		"\u202A": "(left-to-right embed)",
		"\u202B": "(right-to-left embed)",
		"\u202C": "(pop-directional format)",
		"\u202D": "(left-to-right override)",
		"\u202E": "(right-to-left override)"
	};

	const charsReal = {
		173: "­",
		847: '͏', // It's there, even if the cursor skips this letter
		1564: "؜",
		8234: "‫",//No, not this formatting in my text engine, NOOOOOO!!!
		8235: '‫',//The character is inside the literal, and the comment is outside the literal. formatting is weird lmao
		8236: "‬",
		8237: "‭",
		8238: "‮"
	}

	function render(j, useCharCode) {
		const until = j + 256;
		for (let i = j; i < until; i++) {
			const char = useCharCode ? String.fromCharCode(i) : String.fromCodePoint(i);
			const index = useCharCode ? char.codePointAt(0) : i;
			const y = x[i - j];
			y[0].textContent = index;
			y[1].textContent = index.toString(16).padStart(4, "0");
			y[2].textContent = char in cleanMap ? cleanMap[char] : (char !== "" ? char : "(nonexistent)");
			characters[i - j] = i in charsReal ? charsReal[i] : char;
			if (ids[i - j]) clearTimeout(ids[i - j]);
		}
	}

	const page = document.getElementById("p");
	const use = document.getElementById("u");

	page.oninput = function() {
		render(Number(page.value) * 256, use.checked);
	}

	use.oninput = function() {
		render(Number(page.value) * 256, use.checked);
	}

	document.addEventListener("keydown", (e) => {
		let val = Number(page.value);
		if (e.key === "ArrowRight") page.value = ++val;
		else if (e.key === "ArrowLeft" && val > 0) page.value = --val;
		else if (e.key === "L") page.value = val + 10;
		else if (e.key === "J" && val > 0) page.value = Math.max(0, val - 10);
		render(Number(page.value) * 256, use.checked);
	});

	render(0, false);
</script>
